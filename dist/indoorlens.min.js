(()=>{var Rt=Object.defineProperty;var F=(e,t)=>()=>(e&&(t=e(e=0)),t);var Dt=(e,t)=>{for(var n in t)Rt(e,n,{get:t[n],enumerable:!0})};var G,Yt,A,lt,ct,dt,U,pt,ut,K,Mt,b,J,Xt,ft,ht,_,N,V=F(()=>{G=Object.freeze({Path:0,LineShape:1,SurfaceShape:2,Transition_NonWCHR:3,Transition_WCHR:4,Location:5}),Yt=Object.freeze({0:"Path",1:"LineShape",2:"SurfaceShape",3:"Transition_NonWCHR",4:"Transition_WCHR",5:"Location"}),A=["#1e81b0","#c41837","#00b359"],lt=class{constructor(t={}){this.position=new N(t.position),this.associatedBranches=[...t.associatedBranchKeys??[]],this.guid=t.GUID??null}},ct=class{constructor(t={}){this.key=t.key??0,this.groupId=t.groupId??"",this.layerId=t.layerId??"",this.nodeDistances=[...t.nodeDistances??[]],this.nodes=(t.nodes??[]).map(n=>new lt(n))}},dt=class{constructor(t={}){this.nodes=(t.Nodes??[]).map(n=>new N({x:n.X??0,y:n.Y??0,z:n.Z??0})),this.startBranchKey=t.StartBranchKey??"",this.endBranchKey=t.EndBranchKey??"",this.pathLength=t.PathLength??"",this.fromId=t.FromMapLocationId??"",this.toId=t.ToMapLocationId??""}},U=class{constructor(t={}){this.floors={};for(let[n,i]of Object.entries(t))this.floors[n]=new dt(i)}},pt=class{constructor(t={}){this.id=t.id??"",this.lineThickness=t.lineThickness??1;let n=t.color??{r:1,g:1,b:1,a:1};this.color=`rgba(${n.r*255},${n.g*255},${n.b*255},${n.a})`,this.enabled=!!t.enabled,this.renderType=Number(t.renderType)??G.Path}},ut=class{constructor(t={}){this.layers=(t.layers??[]).map(n=>new pt(n)),this.id=t.id??"",this.groupName=t.groupName??"",this.roofHeight=t.roofHeight??0,this.enabled=!!t.enabled,this.opacity=t.opacity??1}},K=class{constructor(t={}){this.branches=(t.branches??[]).reduce((n,i)=>{let s=new ct(i);return n[s.key]=s,n},{}),this.groups=(t.groups??[]).map(n=>new ut(n))}},Mt=Object.freeze({Custom:0,Entrance:1,Exit:2,Information:3,Restroom:4,Elevator:5,Escalator:6,Stairs:7,Parking:8,AccessibleRamp:9,ATM:10,FirstAid:11,Security:12,FireExtinguisher:13,EmergencyExit:14,LostAndFound:15,WaitingArea:16,ChargingStation:17,VendingMachine:18,Cafeteria:19,WaterFountain:20,SmokingArea:21,Playground:22,GreenSpace:23,Kiosk:24,Current_Kiosk:25}),b=Object.freeze({0:"Custom",1:"Entrance",2:"Exit",3:"Information",4:"Restroom",5:"Elevator",6:"Escalator",7:"Stairs",8:"Parking",9:"AccessibleRamp",10:"ATM",11:"FirstAid",12:"Security",13:"FireExtinguisher",14:"EmergencyExit",15:"LostAndFound",16:"WaitingArea",17:"ChargingStation",18:"VendingMachine",19:"Cafeteria",20:"WaterFountain",21:"SmokingArea",22:"Playground",23:"GreenSpace",24:"Kiosk",25:"Current_Kiosk"}),J=Object.freeze({None:0,Icon:1,Label:2}),Xt=Object.freeze({0:"None",1:"Icon",2:"Label"}),ft=class{constructor(t={}){this.branchKey=t.branchKey??0,this.distance=t.distance??0}},ht=class{constructor(t={}){this.id=t.id??"",this.name=t.name??"",this.tags=t.tags??"",this.groupId=t.groupId??"",this.center=new N(t.center),this.locationType=Number(t.locationType)??Mt.Custom,this.locationDisplayType=Number(t.locationDisplayType)??J.Custom,this.locations=(t.locations??[]).map(n=>new ft(n)),this.surfaceBranchKeys=[...t.surfaceBranchKeys??[]]}},_=class{constructor(t={}){this.id=t.id??"",this.name=t.name??"",this.tags=t.tags??"",this.locations=(t.locations??[]).map(n=>new ht(n))}},N=class{constructor(t={}){this.x=t.x??t.X??0,this.y=t.y??t.Y??0,this.z=t.z??t.Z??0}}});function yt(e){let t=!1,n=0,i=0;e.addEventListener("wheel",o=>{let r=o.deltaMode===1?15:1,l=performance.now(),c=e.getBoundingClientRect(),p=o.clientX-c.left-c.width/2-m.x,f=o.clientY-c.top-c.height/2-m.y;if(t&&!o.altKey&&Math.abs(o.deltaY)>Math.abs(o.deltaX)&&(t=!1,n=0),o.altKey&&(t=!0),t){o.preventDefault();let M=(o.deltaX||-o.deltaY)*.002*r;z+=M,n=M,i=l;let O=Ot(p,f,M);m.x+=p-O.x,m.y+=f-O.y,u();return}if(o.shiftKey){o.preventDefault(),m.x-=o.deltaX*r,m.y-=o.deltaY*r,u();return}o.preventDefault();let h=Math.exp(-o.deltaY*.0015*r);L*=h,m.x-=p*(h-1),m.y-=f*(h-1),u()},{passive:!1});let s=[];e.addEventListener("touchstart",o=>{o.preventDefault(),s=[...o.touches]},{passive:!1}),e.addEventListener("touchmove",o=>{o.preventDefault();let[r,l]=s,[c,p]=o.touches;if(o.touches.length===1){let f=c.clientX-r.clientX,h=c.clientY-r.clientY;m.x+=f,m.y+=h}else if(o.touches.length===2){let f=(r.clientX+l.clientX)/2,h=(r.clientY+l.clientY)/2,M=(c.clientX+p.clientX)/2,O=(c.clientY+p.clientY)/2,y=Math.hypot(l.clientX-r.clientX,l.clientY-r.clientY),x=Math.hypot(p.clientX-c.clientX,p.clientY-c.clientY)/y;L*=x;let I=Math.atan2(l.clientY-r.clientY,l.clientX-r.clientX),B=Math.atan2(p.clientY-c.clientY,p.clientX-c.clientX)-I;z+=B,m.x+=M-f,m.y+=O-h}s=[...o.touches],u()},{passive:!1});function d(){if(requestAnimationFrame(d),!t)return;let r=(performance.now()-i)/1e3;if(n*=.94**(r*60),Math.abs(n)<1e-4){t=!1;return}z+=n,u()}d()}function Ot(e,t,n){let i=Math.cos(n),s=Math.sin(n);return{x:e*i-t*s,y:e*s+t*i}}var L,z,m,Q=F(()=>{Y();L=5,z=0,m={x:0,y:0}});function bt(e){X=e,a=e.getContext("2d"),yt(X)}function u(){if(!E)return;a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,X.width,X.height);let e=window.devicePixelRatio||1,t=X.getBoundingClientRect(),n=(t.width/2+m.x)*e,i=(t.height/2+m.y)*e;a.translate(n,i),a.rotate(z),a.scale(L,L);for(let d=0;d<E.groups.length;d++){if(d!==w)continue;let o=E.groups[d];for(let r of o.layers)r.renderType===G.SurfaceShape?$t(r,o):r.renderType===G.LineShape&&jt(r,o)}let s=Pt(L);if(s>0){if(a.globalAlpha=s,D)for(let[r,l]of Object.entries(D.floors)){if(T(r)!=w)continue;let c=$(l.fromId),p=$(l.toId);(b[c.locationType]=="Stairs"||b[p.locationType]=="Elevator")&&Z(c,A[0]),(b[p.locationType]=="Stairs"||b[p.locationType]=="Elevator")&&Z(p,A[0])}let d=$(k),o=$(S);if(d&&T(d.groupId)===w&&Z(d,A[2]),o&&T(o.groupId)===w&&Z(o,A[1]),D)for(let[r,l]of Object.entries(D.floors)){if(T(r)!=w)continue;let c=l.nodes;if(c.length>0){a.save(),a.lineWidth=2/L,a.strokeStyle=A[0],a.beginPath(),a.moveTo(c[0].x,c[0].z);for(let p=1;p<c.length;p++)a.lineTo(c[p].x,c[p].z);a.stroke(),a.restore()}}if(!C)return;for(let r of C.locations)if(T(r.groupId)===w){if(r.locationDisplayType===J.Icon){let l=zt(Ft(r));l.loaded&&(a.save(),a.translate(r.center.x,r.center.z),a.rotate(-z),a.scale(1/L,1/L),a.drawImage(l.img,-36/2,-36/2,36,36),a.restore())}if(r.locationDisplayType===J.Label){let l=r.name||b[r.locationType];a.save(),a.translate(r.center.x,r.center.z),a.rotate(-z),a.scale(1/L,1/L),a.font="20px Arial",a.textAlign="center",a.textBaseline="middle",a.fillStyle="#000",a.fillText(l,0,0),a.restore()}}a.restore()}}function Pt(e){return e>=4?1:e<=3?0:(e-3)/.5}function zt(e){if(gt.has(e))return gt.get(e);let t=new Image;t.crossOrigin="anonymous",t.src=`https://cdn.jsdelivr.net/gh/badrdouah/IndoorLensCDN/LocationIcons/${e}`;let n={img:t,loaded:!1};return t.onload=()=>{n.loaded=!0,u()},gt.set(e,n),n}function Ft(e){switch(b[e.locationType]){case"Exit":return"Exit.png";case"Entrance":return"Entrance.png";case"Restroom":return"Restroom.png";case"Elevator":return"Elevator.png";case"FireExtinguisher":return"FireExtinguisher.png";case"Kiosk":return"Kiosk.png";case"Information":return"Information.png";case"Current_Kiosk":return"KioskCurrent.png";case"MedicalKit":return"MedicalKit.png";case"Stairs":return"Stairs.png";case"Cafeteria":return"Cafeteria.png"}}function Z(e,t){if(e!=null)for(var n=0;n<e.surfaceBranchKeys.length;n++){var i=e.surfaceBranchKeys[n],s=H.branches[i];if(s==null)return;let d=s.nodes.map(o=>({x:o.position.x,y:o.position.z}));a.fillStyle=At(t,.3),a.beginPath(),a.moveTo(d[0].x,d[0].y),d.slice(1).forEach(o=>a.lineTo(o.x,o.y)),a.closePath(),a.fill()}}function At(e,t=1){let n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16);return`rgba(${n}, ${i}, ${s}, ${t})`}function $t(e,t){for(let n of Object.values(E.branches)){if(n.groupId!==t.id||n.layerId!==e.id)continue;let i=n.nodes.map(s=>({x:s.position.x,y:s.position.z}));a.fillStyle=e.color,a.beginPath(),a.moveTo(i[0].x,i[0].y),i.slice(1).forEach(s=>a.lineTo(s.x,s.y)),a.closePath(),a.fill()}}function jt(e,t){for(let n of Object.values(E.branches)){if(n.groupId!==t.id||n.layerId!==e.id)continue;let i=n.nodes.map(s=>({x:s.position.x,y:s.position.z}));a.lineWidth=e.lineThickness,a.strokeStyle=e.color,a.beginPath(),a.moveTo(i[0].x,i[0].y),i.slice(1).forEach(s=>a.lineTo(s.x,s.y)),a.stroke()}}function T(e){if(H==null)return-1;for(var t=0;t<H.groups.length;t++){var n=H.groups[t];if(n.id==e)return t}return-1}function $(e){if(C==null)return null;for(var t=0;t<C.locations.length;t++){var n=C.locations[t];if(n.id===e)return n}return null}function xt(e){C=new _(e);let t=document.querySelector("#locationBadge span");console.log(C),t.textContent=C.name,u()}function vt(e){E=new K(e),u()}function wt(e){H=new K(e),u()}function j(e){if(e==null){D=null;return}D=new U(e);let t=0;for(let[d,o]of Object.entries(D.floors)){if(T(d)!=w)continue;var n=o.pathLength,i=$(o.fromId),s=$(o.toId);if(i==null||s==null)continue;let r=i.name?i.name:b[i.locationType],l=s.name?s.name:b[s.locationType],c=document.getElementById("from"),p=document.getElementById("to"),f="";if(window.IndoorLens.unit=="m"?f=n.toFixed(1)+" m":f=(n*3.28084).toFixed(1)+" feet",t==0){let h=T(i.groupId);c.value=r+", "+f+" To "+l+" on floor "+h,u()}else if(t==Object.entries(D.floors).length-1){let h=T(s.groupId);p.value="floor "+h+", "+f+" To "+l,u()}t++}}var X,a,D,H,E,C,gt,Y=F(()=>{V();Q();tt();Q();X=null,a=null;D=null,H=null,E=null,C=null;gt=new Map;u()});async function ot(e){let t=await fetch(e,{mode:"cors"});if(!t.ok)throw new Error(`${t.status}\xA0${t.statusText} \u2013 ${e}`);return t.json()}async function It({onMap:e,onLayout:t,onPath:n}){let i=window.IndoorLens?.cfg?.mapid??"";console.log("Loading map data for mapId:",i);let s=document.getElementById("loadingOverlay"),d=document.getElementById("deadOverlay");s?.classList.remove("d-none"),d?.classList.add("d-none");try{let o=`${et}MapHandler?filename=${i}/map.txt&code=${nt}`,r=`${et}LayoutHandler?filename=${i}/layout.txt&code=${nt}`,l=`${et}PathHandler?filename=${i}/path.txt&code=${nt}`,[c,p,f]=await Promise.all([ot(o),ot(r),ot(l)]);e?.(c),t?.(p),n?.(f)}catch(o){console.error("loadInitialData error:",o),d?.classList.remove("d-none")}finally{s?.classList.add("d-none")}}async function it({fromId:e,toId:t,WCHR:n=!0,onResult:i}){console.log("fromId:",e),console.log("toId:",t),console.log("WCHR:",n);let s=window.IndoorLens?.cfg?.mapid??"",d=document.getElementById("loadingOverlay"),o=document.getElementById("deadOverlay");d?.classList.remove("hidden"),o?.classList.add("hidden"),console.log("Requesting path from",e,"to",t);try{let r=`${et}PathFindingHandler?code=${nt}&mapid=${encodeURIComponent(s)}&from=${encodeURIComponent(e)}&to=${encodeURIComponent(t)}&WCHR=${n}`,l=await ot(r);i?.(l)}catch(r){console.error("PathFinding fetch error:",r),o?.classList.remove("hidden")}finally{d?.classList.add("hidden")}}var et,nt,rt=F(()=>{et="https://indoorlensmaps.azurewebsites.net/api/",nt="Gh8s0sQm4Uy1U3bW-6MQ2M3U3PXxpPvEngTNcYmLvBPJAzFuc1df1w=="});function Lt(){let e=document.getElementById("btnPlus"),t=document.getElementById("btnMinus"),n=document.getElementById("groupLabel"),i=document.getElementById("wchr"),s=document.getElementById("walk");function d(){n.textContent=w}d(),e.addEventListener("click",()=>{E&&(w=Math.min(w+1,E.groups.length-1),d(),u())}),t.addEventListener("click",()=>{E&&(w=Math.max(w-1,0),d(),u())}),s.addEventListener("click",()=>{W=!0,i.style.display="flex",s.style.display="none",k!=null&&S!=null&&it({fromId:k,toId:S,WCHR:W,onResult:y=>{j(y)}})}),i.addEventListener("click",()=>{W=!1,i.style.display="none",s.style.display="flex",k!=null&&S!=null&&it({fromId:k,toId:S,WCHR:W,onResult:y=>{j(y)}})});let o=document.getElementById("from"),r=document.getElementById("to"),l=document.getElementById("fromResultsList"),c=document.getElementById("toResultsList"),p=document.getElementById("btnFromClear"),f=document.getElementById("btnToClear");o.addEventListener("input",()=>{p.disabled=o.value.trim()===""}),p.addEventListener("click",()=>{o.value="",p.disabled=!0,o.focus(),k=null,j(null),u()}),r.addEventListener("input",()=>{f.disabled=r.value.trim()===""}),f.addEventListener("click",()=>{r.value="",f.disabled=!0,o.focus(),S=null,j(null),u()});function h(y){return y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function M(y,P){let x=h(P.trim());if(!x)return[];let I=[],v=[],B=[];for(let g of y){let q=h(g.name??""),at=h(g.tags??""),st=h(b[g.locationType]||"");q.includes(x)?I.push(g):at.includes(x)?v.push(g):b[g.locationType]!="Custom"&&st.includes(x)&&B.push(g)}let R=(g,q)=>g.sort((at,st)=>{let St=h(q(at)),Bt=h(q(st));return St.indexOf(x)-Bt.indexOf(x)});return R(I,g=>g.name??""),R(v,g=>g.tags??""),R(B,g=>b[g.locationType]??""),[...I,...v,...B]}function O(y,P){y.addEventListener("input",()=>{let x=y.value.trim().toLowerCase();if(!x){P.innerHTML="";return}let I=M(C.locations,x);P.innerHTML=I.map(v=>{let B=T(v.groupId),R=v.name?v.name:b[v.locationType];return`<li
            class="list-group-item list-group-item-action p-1"
            data-id="${v.id}"
          >
            ${R} \u2014 floor ${B}
          </li>`}).join("")}),P.addEventListener("click",x=>{let I=x.target.closest("li");if(!I)return;let v=I.dataset.id,B=I.textContent.trim();y.value=B;let R=y.id;P.innerHTML="",R=="from"?k=v:R=="to"&&(S=v),u(),k!=null&&S!=null&&it({fromId:k,toId:S,WCHR:W,onResult:g=>{j(g)}})})}O(o,l),O(r,c)}var k,S,w,W,tt=F(()=>{V();Y();rt();Y();k=null,S=null,w=0,W=!1});var Ct={};Dt(Ct,{IndoorLensWidget:()=>mt,buildIndoorLensDOM:()=>Et});function Tt(){if(document.getElementById("indoorlens\u2011css"))return;let e=document.createElement("style");e.id="indoorlens\u2011css",e.textContent=`
  /* ---------- page\u2011level layout ------------------------------------------------ */
  .page-container{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;margin:0;}
  .canvas-wrapper{position:relative;display:inline-block;html, font-family: 'Roboto', sans-serif;}
  .canvas-border{border:1px solid #343a40;background:#eee;display:block;}

  .loading-overlay{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;background:#fff;z-index:20;}
  .loading-overlay.hidden{display:none;}
  @keyframes spin360{to{transform:rotate(360deg);}}
  .spin{width:64px;height:64px;animation:spin360 1.2s linear infinite;}

 

  .top-bar{display:flex;   flex-wrap: wrap;   gap: .5rem;align-items:stretch;position:absolute;top:0;left:0;width:100%;z-index:10;padding:4px;gap:4px;box-sizing:border-box;}

  .flex-col{flex:1 1 0;position:relative;}
  .input-group{display:flex;align-items:stretch;font-size:.875rem;margin-bottom:0;}
  .input-tag{background:#333;border:1px solid #555;border-right:0;padding:.375rem .5rem;display:flex;align-items:center;color:#eee;}
  .input-field{flex:1 1 0;border:1px solid #555;background:#222;color:#fff;padding:.375rem .5rem;font-size:.875rem;}
  .input-clear{background:#444;color:#fff;border:none;width:2rem;display:flex;align-items:center;justify-content:center;cursor:pointer; border-top-right-radius:0.25rem; border-bottom-right-radius:0.25rem;border-top-left-radius:0; border-bottom-left-radius:0;}
  .input-clear:disabled{opacity:.4;cursor:default;}

  .results-list{position:absolute;left:0;right:0;top:100%;margin-top:.25rem;z-index:11;max-height:200px;overflow-y:auto;list-style:none;padding:0;background:#222; border:1px solid #555;color:#fff;text-align:left;}
  .results-list li{padding:.25rem .5rem;cursor:pointer;color:inherit;text-align:left;}
  .results-list li:hover{background:#3a3a3a;}
  .results-list:empty{display:none;}

  /* on small screens, stack everything */

/* Mobile stack: each flex-col (From/To) gets its own row */
@media (max-width: 768px) {

 
  .top-bar {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;          /* space between rows */
  }

  .flex-col {
    flex: none;           /* cancel the default flex:1 1 0 */
    width: 100%;          /* full width of the .top-bar */
    margin-bottom: 0.75rem;
  }

  /* keep the label/field/button in one line */
  .input-group {
    display: flex;
    flex-wrap: nowrap !important;
   align-items: stretch;  /* children (including .input-clear) fill the group height */
  }
  .input-field {
    flex: 1 1 auto;
    min-width: 0;
  }
 
  .input-clear {
    flex: 0 0 auto;
  }

  .input-tag {
  flex: 0 0 4rem;      /* never shrink or grow, always 4rem wide */
  min-width: 4rem;     /* ensures the same baseline width */
  text-align: center;  /* center the text within the label */
}

 
.input-clear {
  align-self: stretch;   /* full height */
  border-top-right-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

/* Restore square shape for the WCHR/Walk toggles */
.accessibility-btn {
  display: flex;
  align-items: center;
  justify-content: center;
   margin-left: auto;
  align-self: stretch;    /* match input-row height if in the same flex container */
  aspect-ratio: 1 / 1;    /* keep width == height */
}
}
  .brand-badge,
  .location-badge {
    position: absolute;
    bottom: 12px;
    padding: 0.25rem 0.6rem;
    display: flex; align-items: center;
    font-family: 'Roboto', sans-serif;
  }

   /* left for brand */
  .brand-badge {
    left: 12px;
  }

  /* right for location */
  .location-badge {
    right: 12px;
  }

  .brand-badge img,
  .location-badge img {
    width: 20px;
    height: 20px;
 
  }
 
   .brand-badge,
  .location-badge   span {
  margin-left: 0.5rem;
  font-weight: 600;
  color: #0c0c0c;
  font-family: 'Roboto', sans-serif;
}
 
  #groupPanel{position:absolute;right:12px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:center;background:rgba(0,0,0,.2);border:2px solid #ffffff33;border-radius:.3rem;padding:.1rem;}
  #groupPanel span{color:#fff;font-weight:600;padding:0 .1rem;}
  .panel-btn{width:28px;height:28px;padding:0;margin-bottom:.25rem;background:#444;border:1px solid #555;font-size:1rem;line-height:1;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;border-radius:.25rem;}
  .panel-btn:last-child{margin-bottom:0;}

  .accessibility-btn{width:2.5rem;align-self:stretch;padding:0;background:#444;border:1px solid #555;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1rem;border-radius:.25rem;box-sizing:border-box;}

  .hidden{display:none;}
  `,document.head.appendChild(e)}function Et(e,{width:t=1e3,height:n=600}={}){Tt();let i=document.createElement("div");i.className="canvas-wrapper";let s=typeof t=="number"?`${t}px`:t,d=typeof n=="number"?`${n}px`:n;i.style.width=s,i.style.height=d,e.appendChild(i);let o=document.createElement("canvas");return o.id="c",o.className="canvas-border",o.style.width="100%",o.style.height="100%",i.appendChild(o),requestAnimationFrame(()=>{let r=o.getBoundingClientRect(),l=window.devicePixelRatio||1;o.width=Math.round(r.width*l),o.height=Math.round(r.height*l),o.getContext("2d").scale(l,l)}),i.insertAdjacentHTML("beforeend",`
    <div id="loadingOverlay" class="loading-overlay hidden">
      <img src="https://cdn.jsdelivr.net/gh/elseforty/IndoorLens/LocationIcons/Loader.png" class="spin" alt="loading"/>
    </div>
    <div id="deadOverlay" class="loading-overlay hidden">
      <img src="https://cdn.jsdelivr.net/gh/elseforty/IndoorLens/LocationIcons/Dead.png" alt="dead"/>
    </div>`),i.insertAdjacentHTML("beforeend",`
    <div class="top-bar">
      <div class="flex-col">
        <div class="input-group">
          <span class="input-tag">From</span>
          <input id="from" type="text" class="input-field" placeholder="Search from\u2026" />
          <button id="btnFromClear" class="input-clear" disabled>&times;</button>
        </div>
        <ul id="fromResultsList" class="results-list"></ul>
      </div>
      <div class="flex-col">
        <div class="input-group">
          <span class="input-tag">To</span>
          <input id="to" type="text" class="input-field" placeholder="Search to\u2026" />
          <button id="btnToClear" class="input-clear"  disabled>&times;</button>
        </div>
        <ul id="toResultsList" class="results-list"></ul>
      </div>
      <button id="wchr" class="accessibility-btn hidden">
        <img src="https://cdn.jsdelivr.net/gh/elseforty/IndoorLens/LocationIcons/Wchr.png" alt="Wheelchair" width="16" height="16">
      </button>
      <button id="walk" class="accessibility-btn">
        <img src="https://cdn.jsdelivr.net/gh/elseforty/IndoorLens/LocationIcons/Walk.png" alt="Walk" width="16" height="16">
      </button>
    </div>`),i.insertAdjacentHTML("beforeend",`
 
<div class="brand-badge">
  <img src="https://cdn.jsdelivr.net/gh/elseforty/IndoorLens/LocationIcons/IconDark.png" alt="IndoorLens icon" />
  <span>IndoorLens.com</span>
</div>

 
<div id="locationBadge" class="location-badge"  >
  <span></span>
  <img src="https://cdn.jsdelivr.net/gh/elseforty/IndoorLens/LocationIcons/LocationPin.png" alt="IndoorLens location" />
</div>
`),i.insertAdjacentHTML("beforeend",`
    <div id="groupPanel">
      <button id="btnPlus" class="panel-btn">+</button>
      <span id="groupLabel">0</span>
      <button id="btnMinus" class="panel-btn">\u2212</button>
    </div>`),{canvas:o,loadingOverlay:i.querySelector("#loadingOverlay"),deadOverlay:i.querySelector("#deadOverlay"),fromInput:i.querySelector("#from"),toInput:i.querySelector("#to"),wchrBtn:i.querySelector("#wchr"),walkBtn:i.querySelector("#walk"),groupLabel:i.querySelector("#groupLabel")}}var mt,kt=F(()=>{rt();tt();Y();mt=class{constructor(t,n){this.root=t,this.opts=n,Tt();let i=Et(this.root,{width:this.opts.width,height:this.opts.height});this.canvas=i.canvas,this.loadingOverlay=i.loadingOverlay,this.deadOverlay=i.deadOverlay,this.fromInput=i.fromInput,this.toInput=i.toInput,this.wchrBtn=i.wchrBtn,this.walkBtn=i.walkBtn,this.groupLabel=i.groupLabel,bt(this.canvas),Lt(this.root),this.initLogic()}initLogic(){this.loadingOverlay?.classList.remove("hidden"),It({onMap:t=>xt(t),onLayout:t=>vt(t),onPath:t=>wt(t)}).finally(()=>{this.loadingOverlay?.classList.add("hidden")})}}});V();tt();rt();Q();function Kt(e={}){let t=Object.assign({},e);window.IndoorLens=window.IndoorLens||{},window.IndoorLens.cfg={target:t.target,mapid:t.mapid,apiKey:t.apiKey,unit:t.unit},window.IndoorLens.mapid=t.mapid,window.IndoorLens.apiKey=t.apiKey,window.IndoorLens.unit=t.unit;let n=typeof t.target=="string"?document.querySelector(t.target):t.target;if(!n)throw new Error("IndoorLens: target element not found");Promise.resolve().then(()=>(kt(),Ct)).then(({IndoorLensWidget:i})=>{let s=new i(n,t);window.IndoorLensWidget=s})}typeof window<"u"&&(window.IndoorLens=window.IndoorLens||{},window.IndoorLens.init=Kt);})();
//# sourceMappingURL=indoorlens.min.js.map
